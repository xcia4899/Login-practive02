import{u as y,s as $,a as b}from"./useFetchState-aQcMHyyP.js";import{d as f,g as k,c as a,a as s,t as n,h as r,F as c,j as m,o as i,_ as h}from"./index-BVrYrUv_.js";const C={class:"test-page"},w={class:"test-top"},A={class:"message"},B={key:0},P={class:"id"},S={class:"name"},F={key:1,class:"test-body"},I={class:"id"},x={class:"name"},L=f({__name:"testApi02",setup(j){const{openContent:l,showMessage:_,setState:u}=y(),p=k([]),g=async o=>{const{data:t}=await b.get("https://petstore.swagger.io/v2/pet/findByStatus",{params:{status:o}});return t},v=async o=>{u(!0,`正在取得 ${o} 中...`),await $(400);try{const t=await g(o);p.value=t,u(!0,`已取得${o}資料，共 ${t.length} 筆`)}catch(t){console.log(t),u(!0,`錯誤:無法取得${o}資料`)}};return(o,t)=>(i(),a("div",C,[s("div",w,[s("button",{type:"button",onClick:t[0]||(t[0]=e=>v("available"))}," 取得 available 清單 "),s("button",{type:"button",onClick:t[1]||(t[1]=e=>v("pending"))}," 取得 pending 清單 "),s("button",{type:"button",onClick:t[2]||(t[2]=e=>v("sold"))},"取得 sold 清單")]),t[4]||(t[4]=s("h3",null,"API02練習: 含 Query 參數的 API",-1)),t[5]||(t[5]=s("hr",null,null,-1)),s("button",{onClick:t[3]||(t[3]=e=>l.value=!r(l))},n(r(l)?"部分顯示":"全部展開"),1),t[6]||(t[6]=s("h4",null,null,-1)),s("div",A,n(r(l)?"全部資料":"前五筆資料")+" --- "+n(r(_)),1),r(l)?(i(),a("div",F,[(i(!0),a(c,null,m(p.value,(e,d)=>(i(),a("div",{key:`${e.id}-${d}`,class:"item"},[s("div",I,"no."+n(d+1)+"："+n(e.id),1),s("div",x,n(e.name),1)]))),128))])):(i(),a("div",B,[(i(!0),a(c,null,m(p.value.slice(0,5),(e,d)=>(i(),a("div",{key:`${e.id}-${d}`,class:"item"},[s("div",P,"no."+n(d+1)+"："+n(e.id),1),s("div",S,n(e.name),1)]))),128))]))]))}}),M=h(L,[["__scopeId","data-v-905db94d"]]);export{M as default};
